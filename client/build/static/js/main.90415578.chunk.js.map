{"version":3,"sources":["lib/auth.js","components/common/Nav.js","components/images/theatrebw.jpg","components/images/theatre02.jpg","components/common/Hero.js","components/common/Footer.js","components/common/Home.js","lib/api.js","components/slots/SchedulingSlots.js","components/films/FilmCard.js","components/films/FilmIndex.js","components/cinemas/CinemaIndex.js","components/images/cinemasBlue.png","components/cinemas/CinemaHome.js","components/users/UserShow.js","utils/useForm.js","components/auth/Login.js","components/auth/Register.js","components/films/FilmShow.js","components/films/FilmForm.js","components/films/FilmNew.js","components/films/FilmEdit.js","components/slots/SlotIndex.js","components/slots/SlotForm.js","components/slots/SlotNew.js","components/slots/SlotEdit.js","components/cinemas/CinemaCard.js","components/cinemas/CinemaShow.js","App.js","index.js"],"names":["getToken","window","localStorage","getItem","getPayload","token","parts","split","length","JSON","parse","atob","isAuthenticated","payload","Math","round","Date","now","exp","isOwner","userId","sub","Nav","history","useHistory","isLoggedIn","useLocation","className","role","aria-label","to","onClick","removeItem","push","Hero","useState","isShown","setIsShown","onMouseEnter","onMouseLeave","src","theatre02","theatrebw","Footer","href","target","rel","Home","baseUrl","headers","Authorization","getSingleCinema","id","axios","get","getAllFilms","getSingleFilm","createFilm","formdata","post","editFilm","put","deleteFilm","delete","getAllSlots","getSingleSlot","createSlot","editSlot","deleteSlot","registerUser","loginUser","getSingleUser","SchedulingSlots","localizer","momentLocalizer","moment","React","slots","setSlots","hasErr","setHasErr","useEffect","a","data","sortedData","sort","b","startTime","getData","events","map","slot","title","film","allDay","start","end","endTime","resource","cinema","name","popup","startAccessor","endAccessor","defaultDate","defaultView","style","height","onDoubleClickEvent","event","console","log","FilmCard","yearReleased","director","poster","country","genre","section","alt","type","selected","FilmIndex","films","setFilms","CinemaIndex","cinemas","setCinemas","address","phoneNumber","CinemaHome","photo","UserShow","useParams","useForm","initialState","setFormdata","errors","setErrors","handleChange","value","checked","nextState","nextErrorState","Login","error","setError","email","password","handleSubmit","preventDefault","setItem","onSubmit","placeholder","onChange","onFocus","Register","firstName","lastName","passwordConfirmation","username","profilePhoto","response","FilmShow","setFilm","handleDelete","plot","runTime","filmFormat","distributor","creator","genreSelectOptions","label","sectionSelectOptions","FilmForm","handleMultiSelectionChange","selectedOption","item","options","isMulti","disabled","FilmNew","FilmEdit","filmToEdit","SlotIndex","SlotForm","filmSelectOptions","selectedItem","handleSelectChange","SlotNew","SlotEdit","slotToEdit","scheduledBy","CinemaCard","image","contactName","latitude","longitude","mapboxApiAccessToken","process","width","mapStyle","parseFloat","zoom","CinemaShow","setCinema","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90415578.chunk.js","sourcesContent":["// * Set user token\nexport function setToken(token) {\n  window.localStorage.setItem('token', token)\n}\n\n// * Get user token\nexport function getToken() {\n  return window.localStorage.getItem('token')\n}\n\n// * Logout a user\nexport function logoutUser() {\n  window.localStorage.removeItem('token')\n}\n\n// * Get payload\nexport function getPayload() {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.')\n  if (parts.length < 3) return false\n  return JSON.parse(atob(parts[1]))\n}\n\n// * \nexport function isAuthenticated() {\n  const payload = getPayload()\n  if (!payload) return false\n  const now = Math.round(Date.now() / 1000)\n  return now < payload.exp\n}\n\nexport function isOwner(userId) {\n  const payload = getPayload()\n  if (!payload) return false\n  return userId === payload.sub\n}","import React from 'react'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\nimport { isAuthenticated, logoutUser } from '../../lib/auth'\n\nfunction Nav(){\n\n  // accesses the history object, which is used to navigate to other routes\n  const history = useHistory()\n\n  // checks if user is authenticated (has valid token)\n  const isLoggedIn = isAuthenticated()\n\n  // accesses the location object, which contains the current URL location\n  useLocation()\n\n  const handleLogout = () => {\n    logoutUser()\n    history.push('/')\n  }\n\n  return (\n    <div className=\"navbar is-dark\" role=\"navigation\" aria-label=\"main navigation\">\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          { !isLoggedIn ?\n            <Link to=\"/\" className=\"navbar-item has-text-info\"><strong>FASTival</strong></Link>\n            :\n            null}\n          <Link to=\"/schedule/\" className=\"navbar-item\">Schedule</Link>\n          <Link to=\"/films/\" className=\"navbar-item\">Films</Link>   \n          <Link to=\"/cinemas/\" className=\"navbar-item\">Cinemas</Link>    \n        </div>\n      \n        <div className=\"navbar-menu has-background-dark is-active\">\n          <div className=\"navbar-end\">\n            <div className=\"navbar-item has-dropdown has-background-dark is-hoverable\">\n              <div className=\"navbar-item has-background-dark has-text-info-light\">User</div>\n\n              { !isLoggedIn ?\n                <div className=\"navbar-dropdown has-background-dark is-right \">\n                  <Link to=\"/login/\" className=\"navbar-item has-text-info\">Login</Link>\n                  <Link to=\"/register/\" className=\"navbar-item has-text-info\">Register</Link>\n                </div>\n                :\n                <div className=\"navbar-dropdown has-background-dark is-right\">\n                  {/* <Link to={`/auth/${id}/`}  className=\"navbar-item is-expanded has-text-info\">Profile</Link> */}\n                  <button className=\"navbar-item button is-small is-left is-dark has-text-info\" onClick={handleLogout}>Logout</button>\n                </div>\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Nav","export default __webpack_public_path__ + \"static/media/theatrebw.ba413359.jpg\";","export default __webpack_public_path__ + \"static/media/theatre02.0496c237.jpg\";","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport theatrebw from '../images/theatrebw.jpg'\nimport theatre02 from '../images/theatre02.jpg'\n\nfunction Hero() {\n\n  const [isShown, setIsShown] = useState(false)\n\n  return (\n    <div>\n      <Link to=\"/schedule/\" >\n        <section className=\"hero is-dark is-fullheight\">\n          <div\n            onMouseEnter={() => setIsShown(true)}\n            onMouseLeave={() => setIsShown(false)}>\n            {isShown ?\n              <img src={theatre02} />\n              :\n              <img src={theatrebw} />\n            }\n          </div>\n        </section>\n      </Link>\n    </div>\n  )\n}\n\nexport default Hero","import React from 'react'\nimport { AiOutlineGithub, AiOutlineTwitter } from 'react-icons/ai'\nimport { FaLinkedin } from 'react-icons/fa'\n\nfunction Footer() {\n  return (\n    <footer className=\"navbar is-fixed-bottom is-dark\">\n      <div className=\"container is-fluid level\">\n        <div className=\"level-item has-text-centered\">FASTival is a labour of love done as part of the GA Software Engineering Immersive Course. <br />If you want to support me or find out more, follow the links</div>\n        <br />\n        \n        <div className=\"is-menu level-item\">\n          <a href=\"https://github.com/HotSauceNinja\" target=\"_blank\" rel=\"noreferrer\"><AiOutlineGithub className=\"icon is-medium mx-2\"/></a> \n\n          <a href=\"https://www.linkedin.com/in/sandraspighel/\" target=\"_blank\" rel=\"noreferrer\"><FaLinkedin className=\"icon is-medium mx-2\"/></a>     \n\n          <a href=\"https://twitter.com/H0tSauceNinja\" target=\"_blank\" rel=\"noreferrer\"><AiOutlineTwitter className=\"icon is-medium mx-2\"/></a>\n\n        </div>\n        <br/>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer","import React from 'react'\nimport Hero from './Hero'\nimport Footer from './Footer'\n\nfunction Home(){\n\n  return (\n    <>\n      <Hero />\n\n      <Footer />\n    </>\n  )\n}\n\nexport default Home","import axios from 'axios'\nimport { getToken } from './auth'\n\nconst baseUrl = '/api/'\n\nfunction headers() {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\n\n// REQUESTS\n// * Cinema Requests\nexport function getAllCinemas() {\n  return axios.get(`${baseUrl}cinemas/`)\n}\n\nexport function getSingleCinema(id) {\n  return axios.get(`${baseUrl}cinemas/${id}/`)\n}\n\n// * Film Requests\nexport function getAllFilms() {\n  return axios.get(`${baseUrl}films/`)\n}\n\nexport function getSingleFilm(id) {\n  return axios.get(`${baseUrl}films/${id}/`)\n}\n\nexport function createFilm(formdata) {\n  return axios.post(`${baseUrl}films/`, formdata, headers())\n}\n\nexport function editFilm(id, formdata) {\n  return axios.put(`${baseUrl}films/${id}/`, formdata, headers())\n}\n\nexport function deleteFilm(id) {\n  return axios.delete(`${baseUrl}films/${id}/`, headers())\n}\n\n// * Scheduling Slot Requests\nexport function getAllSlots() {\n  return axios.get(`${baseUrl}slots/`)\n}\n\nexport function getSingleSlot(id) {\n  return axios.get(`${baseUrl}slots/${id}/`)\n}\n\nexport function createSlot(formdata) {\n  return axios.post(`${baseUrl}slots/`, formdata, headers())\n}\n\nexport function editSlot(id, formdata) {\n  return axios.put(`${baseUrl}slots/${id}/`, formdata, headers())\n}\n\nexport function deleteSlot(id) {\n  return axios.delete(`${baseUrl}slots/${id}/`, headers())\n}\n\n// * Auth Requests\nexport function registerUser(formdata) {\n  return axios.post(`${baseUrl}auth/register/`, formdata)\n}\n\nexport function loginUser(formdata) {\n  return axios.post(`${baseUrl}auth/login/`, formdata)\n}\n\nexport function getSingleUser(id) {\n  return axios.get(`${baseUrl}auth/${id}/`)\n}","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { getAllSlots } from '../../lib/api'\n\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\nimport moment from 'moment'\nimport 'react-big-calendar/lib/sass/styles.scss'\n\nfunction SchedulingSlots(){\n\n  const history = useHistory()\n  const localizer = momentLocalizer(moment)\n  const [slots, setSlots] = React.useState(null)\n  const [hasErr, setHasErr] = React.useState(false)\n\n  // * Get the array of scheduling slots objects\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllSlots()\n\n        // * Sort all slots in chronological order\n        const sortedData = data.sort((a, b) => Date.parse(a.startTime) - Date.parse(b.startTime))\n\n        setSlots(sortedData)\n      } catch (err) {\n        setHasErr(err)\n      }\n    }\n    getData()\n  }, [])\n\n  // * Format events array of objects for showing on calendar, or do nothing if slots are null\n  const events = slots && slots.map(slot => { \n    return {\n      id: slot.id,\n      title: !slot.film ? 'Free slot' : slot.film.title,\n      allDay: false,\n      start: new Date(slot.startTime),\n      end: new Date(slot.endTime),\n      resource: slot.cinema.name\n    }\n  })\n\n  function handleDoubleClick (event) {\n    console.log('event is ', event)\n    history.push(`/slots/${event.id}/edit/`)\n  }\n\n  return (\n    <div className=\"section has-background-dark has-text-light\">\n      <div className=\"container\"> \n        <br />     \n        <div className=\"columns\">\n          <div className=\"column title has-text-centered has-text-info-light\">Screening Schedule</div>\n\n          <div className=\"column buttons is-one-fifth\">\n            <button className=\"button is-info\">\n              <Link to={'/slots/new/'} className=\"has-text-white\"> Add Screening Slot </Link>\n            </button>\n          </div>\n        </ div>\n\n        {!slots ? // * Only render the calender if slots exist\n          <div className=\"hero is-fullheight title\">\n            { hasErr ?\n              <div className=\"hero-body\">\n                <div className=\"container has-text-centered\">Something went wrong</div>\n              </div> \n              : \n              <div className=\"hero-body\">\n                <div className=\"container has-text-centered\">Loading</div>\n              </div>\n            }\n          </div>\n          :\n          <Calendar\n            popup\n            localizer={localizer}\n            events={events}\n            startAccessor=\"start\"\n            endAccessor=\"end\"\n            defaultDate={new Date(2021, 5, 14)}\n            defaultView=\"week\"\n            style={{ height: '100vh' }}\n            onDoubleClickEvent={handleDoubleClick}\n          />\n        }\n      </div>\n    </div>\n  )\n}\nexport default SchedulingSlots","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction FilmCard({ id,title, yearReleased, director, poster, country, genre, section }) {\n  return (\n    <div className=\"card has-background-grey-dark\">\n      <Link to={`/films/${id}`} >\n        <div className=\"container\">\n\n          <div className=\"card-header\">\n            <div className=\"card-header-title is-centered has-text-info\">{title} ({yearReleased}) </div>\n          </div>\n\n          <div className=\"columns is-mobile\">\n            <figure className=\"card-image column\">\n              <img src={poster} alt={title} className=\"image\" />\n            </figure>\n          \n            <div className=\"card-content column\">\n              <div className=\"container mr-3 has-text-info-light\" >\n                <div>Dir: {director}</div>\n                <p>{country}</p>                \n                <br />\n                { !genre ? \n                  <div>Loading</div>\n                  :\n                  <div>            \n                    {genre.map(type => (\n                      <span key={type.id}> {type.name} </span>\n                    ))}                \n                  </div>\n                }\n                <br />\n\n                { !section ? \n                  <div>Loading</div>\n                  :\n                  <div>        \n                    { !section.length ? \n                      <div>Not assigned yet</div>\n                      :\n                      section.map(selected => (\n                        <span key={selected.id}> {selected.name} </span>\n                      ))           \n                    }  \n                    \n                  </div>\n                }\n                <br />\n              </div>\n            </div>\n\n          </div>\n          \n        </div>        \n      </Link>\n    </div>\n  )\n}\n\nexport default FilmCard","import React from 'react'\nimport { getAllFilms } from '../../lib/api'\nimport FilmCard from '../films/FilmCard'\nimport { Link } from 'react-router-dom'\nimport { isAuthenticated } from '../../lib/auth'\n\nfunction FilmIndex() {\n\n  // checks if user is authenticated (has valid token)\n  const isLoggedIn = isAuthenticated()\n    \n  const [films, setFilms] = React.useState(null)\n  const [hasErr, setHasErr] = React.useState(false)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllFilms()\n        setFilms(data)\n\n      } catch (err) {\n        setHasErr(err)\n      }\n    }\n    getData()\n  }, [])\n\n  return (\n    <div className=\"section has-background-dark\">\n      <h1 className=\"title has-text-centered has-text-info-light\">Films</h1>\n      <br />\n\n      { isLoggedIn ?\n        <div className=\"columns title has-text-centered\">\n          <span className=\"column is-one-third\">\n            <Link to=\"/films/new/\" className=\"button is-link has-text-white\">Add new film</Link>\n          </span>\n          <span className=\"column\">Filter films goes here</span>\n        </div>\n        :\n        null\n      }\n\n\n      <div className=\"container\">\n        {!films ? \n          <div className=\"hero is-fullheight title\">\n            { hasErr ? \n              <div className=\"hero-body\">\n                <div className=\"container has-text-centered\">Something went wrong</div>\n              </div> \n              : \n              <div className=\"hero-body\">\n                <div className=\"container has-text-centered\">Loading</div>\n              </div>\n            }\n          </div>\n          :\n          <div className=\"columns is-multiline is-mobile\">\n            {films.map(film => (\n              <div key={film.id} className=\"column is-half-mobile is-half-tablet is-one-third-desktop\">\n                <FilmCard {...film} />\n              </div>\n            ))}\n          </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default FilmIndex","import React from 'react'\nimport { getAllCinemas } from '../../lib/api'\nimport { Link } from 'react-router-dom'\n\nfunction CinemaIndex() {\n\n  const [cinemas, setCinemas] = React.useState(null)\n  const [hasErr, setHasErr] = React.useState(false)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllCinemas()\n        setCinemas(data)\n      } catch (err) {\n        setHasErr(err)\n      }\n    }\n    getData()\n  }, [])\n\n  console.log('cinemas', cinemas)\n\n\n  return (\n    <section className=\"has-background-dark\">\n      <div className=\"container has-background-dark\">\n\n        <div className=\"container\">\n          {!cinemas ? \n            <div className=\"hero is-fullheight title has-text-info-light\">\n              { hasErr ? \n                <div className=\"hero-body\">\n                  <div className=\"container has-text-centered has-text-info-light\">Something went wrong</div>\n                </div> \n                : \n                <div className=\"hero-body\">\n                  <div className=\"container has-text-centered has-text-info-light\">Loading</div>\n                </div>\n              }\n            </div>\n            :\n            <div className=\"columns is-multiline\">\n              {cinemas.map(cinema => (\n                <div key={cinema.id} className=\"column is-full\">\n                  <div className=\"card has-background-grey-dark\">\n                    <Link to={`/cinemas/${cinema.id}/`}>\n                      <div className=\"container\">\n                        <div className=\"card-header\">\n                          <div className=\"card-header-title is-centered has-text-info\">{cinema.name}</div>\n                        </div>\n\n                        <div className=\"card-content has-text-info-light\">\n                          <div>{cinema.address}</div>\n                          <div><strong>{cinema.phoneNumber}</strong></div>\n                        </div>\n                      </div>        \n                    </Link>\n                  </div>\n                </div>\n              ))}\n            </div>\n          }\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default CinemaIndex","export default __webpack_public_path__ + \"static/media/cinemasBlue.63ba93c9.png\";","import React from 'react'\nimport CinemaIndex from './CinemaIndex'\nimport photo from '../images/cinemasBlue.png'\n\nfunction CinemaHome() {\n  return (\n    <div className=\"section has-background-dark\">\n      <div>\n        <h1 className=\"title has-text-centered has-text-info-light\">Cinemas</h1>\n        <div className=\"columns\">\n          <div className=\"column is-one-third\">\n            <CinemaIndex />\n          </div>\n          <div className=\"column is-two-thirds\">\n            <img src={photo}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CinemaHome","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getSingleUser } from '../../lib/api'\n\nfunction UserShow() {\n\n  // const [user, setUser] = React.useState(null)\n  const { id } = useParams()\n\n  //*Get User profile\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSingleUser(id)\n        console.log('user data:', data )\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getData()\n  }, [id])\n\n  return (\n    <div>User page goes here</div>\n  )\n}\n\nexport default UserShow","import React from 'react'\n\nfunction useForm(initialState) {\n  const [formdata, setFormdata] = React.useState(initialState)\n  const [errors, setErrors] = React.useState(initialState)\n\n  // console.log('inside useForm', errors)\n\n  const handleChange = event => {\n    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value\n    const nextState = { ...formdata, [event.target.name]: value }\n    const nextErrorState = { ...errors, [event.target.name]: '' }\n    setFormdata(nextState)\n    setErrors(nextErrorState)\n  }\n\n  return {\n    formdata,\n    errors,\n    handleChange,\n    setErrors,\n    setFormdata\n  }\n}\n\nexport default useForm\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { loginUser } from '../../lib/api'\nimport { setToken } from '../../lib/auth'\nimport useForm from '../../utils/useForm'\n\nfunction Login(){\n\n  const history = useHistory()\n  const [error, setError] = React.useState(false)\n\n  const { formdata, handleChange } = useForm({\n    email: '',\n    password: ''\n  })\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    try {      \n      const { data } = await loginUser(formdata)\n      setToken(data.token)\n      history.push('/schedule/')\n    } catch (err) {\n      setError(true)\n    }\n  }\n\n  const handleFocus = () => {\n    setError(false)\n  }\n\n  return (\n    <section className=\"section has-background-dark\">\n      <div className=\"container\">\n        <div className=\"columns\">\n          <form className=\"box column is-half is-offset-one-quarter has-background-dark\" onSubmit={handleSubmit}>\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Email</label>\n              <div className=\"control\">\n                <input\n                  className={`input ${error ? 'is-danger' : ''}`}\n                  placeholder=\"Email\"\n                  onChange={handleChange}\n                  name=\"email\"\n                  value={formdata.email}\n                  onFocus={handleFocus}\n                />\n              </div>\n            </div>\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Password</label>\n              <div className=\"control\">\n                <input\n                  type='password'\n                  className={`input ${error ? 'is-danger' : ''}`}\n                  placeholder=\"Password\"\n                  onChange={handleChange}\n                  name=\"password\"\n                  value={formdata.password}\n                />\n              </div>\n            </div>\n            {error && <p className=\"help is-danger\">Your username or password are incorrect</p>}\n            <div className=\"field\">\n              <button type=\"submit\" className=\"button is-info has-text-info-light\">Login</button>\n            </div>\n\n          </form>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default Login","import React from 'react'\nimport { registerUser } from '../../lib/api'\nimport { useHistory } from 'react-router-dom'\nimport useForm from '../../utils/useForm'\n\nfunction Register(){\n\n  const history = useHistory()\n\n  const { formdata, handleChange, errors, setErrors } = useForm({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    username: '',\n    profilePhoto: ''\n  })\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      await registerUser(formdata)\n      history.push('/login/')\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n  return (\n    <section className=\"section has-background-dark\">\n      <div className=\"container\">\n        <div className=\"columns\">\n          <form className=\"column is-half is-offset-one-quarter \" onSubmit={handleSubmit}>\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">First Name</label>\n              <div className=\"control\">\n                <input \n                  className=\"input\"\n                  placeholder=\"First Name\"\n                  onChange={handleChange}\n                  name=\"firstName\"\n                  value={formdata.firstName}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.firstName}</p>}\n\n            <div className=\"field has-text-info\">\n              <label className=\"label has-text-info\">Last Name</label>\n              <div className=\"control\">\n                <input \n                  className=\"input\"\n                  placeholder=\"Last Name\"\n                  onChange={handleChange}\n                  name=\"lastName\"\n                  value={formdata.lastName}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.lastName}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Email</label>\n              <div className=\"control\">\n                <input \n                  className=\"input\"\n                  placeholder=\"Email\"\n                  onChange={handleChange}\n                  name=\"email\"\n                  value={formdata.email}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.email}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Password</label>\n              <div className=\"control\">\n                <input \n                  type=\"password\"\n                  className=\"input\"\n                  placeholder=\"Password\"\n                  onChange={handleChange}\n                  name=\"password\"\n                  value={formdata.password}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.password}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Password Confirmation</label>\n              <div className=\"control\">\n                <input \n                  type=\"password\"\n                  className=\"input\"\n                  placeholder=\"Password Confirmation\"\n                  onChange={handleChange}\n                  name=\"passwordConfirmation\"\n                  value={formdata.passwordConfirmation}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.passwordConfirmation}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Username</label>\n              <div className=\"control\">\n                <input \n                  className=\"input\"\n                  placeholder=\"Username\"\n                  onChange={handleChange}\n                  name=\"username\"\n                  value={formdata.username}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.username}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Profile Photo</label>\n              <div className=\"control\">\n                <input \n                  className=\"input\"\n                  placeholder=\"Photo URL\"\n                  onChange={handleChange}\n                  name=\"profilePhoto\"\n                  value={formdata.profilePhoto}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.profilePhoto}</p>}\n            <br />\n\n            <div className=\"field\">\n              <button type=\"submit\" className=\"button is-info has-text-info-light\">Register</button>\n            </div>\n          </form>\n        </div>        \n      </div>\n    </section>\n  )\n}\n\nexport default Register","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useParams } from 'react-router-dom'\nimport { deleteFilm, getSingleFilm } from '../../lib/api'\nimport { isOwner } from '../../lib/auth'\n\nfunction FilmShow() {\n  const history = useHistory()\n\n  const [film, setFilm] = React.useState(null)\n  const [hasErr, setHasErr] = React.useState(false)\n  const { id } = useParams()\n\n  // * Get a film\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSingleFilm(id)\n        setFilm(data)\n\n      } catch (err) {\n        setHasErr(err)\n      }\n    }\n    getData()\n    // keep track of film id, if it changes request a new film\n  }, [id])\n\n  \n  // * Handle film delete\n  const handleDelete = async () => {\n    try {\n      await deleteFilm(id)\n      history.push('/films/')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  console.log('film data ', film)\n\n  return (\n    <div className=\"section has-background-dark\">\n      {!film ? \n        <div className=\"title has-text-info-light\">\n          { hasErr ? \n            <div>\n              <div className=\"container has-text-centered has-text-info-light\">Something went wrong</div>\n            </div> \n            : \n            <div>\n              <div className=\"container has-text-centered has-text-info-light\">Loading</div>\n            </div>\n          }\n        </div>\n        :\n        <div>\n          <h1 className=\"title has-text-centered has-text-info\">{film.title} ({film.yearReleased})</h1>\n          <div className=\"columns\">\n            <div className=\"column is-one-third\">\n              <img src={film.poster} alt={film.title} className=\"image\" />              \n            </div>\n\n            <div className=\"card-content has-text-info-light\">\n              <div className=\"container mr-3\" >\n                <div>Dir: {film.director}</div>                \n                { !film.genre ? \n                  <div>Loading</div>\n                  :\n                  <div>Genre:            \n                    {film.genre.map(type => (\n                      <span key={type.id}> {type.name} </span>\n                    ))}                \n                  </div>\n                }\n                <br />\n                <p>{film.plot}</p>\n                <br />\n                <p>Run Time: {film.runTime}</p> \n                <p>Film Format: {film.filmFormat}</p>\n                <p>Countries: {film.country}</p>  \n                <p>Distributor: {film.distributor}</p>\n                <br />\n                <div>Section:\n                  { !film.section ? \n                    <div>Loading</div>\n                    :\n                    <span>        \n                      { !film.section.length ? \n                        <div>Not assigned yet</div>\n                        :\n                        film.section.map(selected => (\n                          <span key={selected.id}> {selected.name} </span>\n                        ))           \n                      }  \n                    </span>\n                  }\n                </div>\n                <br />\n                { isOwner(film.creator.id) &&\n                  <div className=\"field is-grouped is-right\">\n                    <p className=\"control\">\n                      <button className=\"button is-info is-outlined\">\n                        <Link to={`/films/${id}/edit/`}> Edit Film </Link>\n                      </button>\n                    </p>\n                    <p className=\"control\">\n                      <button className=\"button is-danger is-outlined\" onClick={handleDelete}> Delete Film </button>\n                    </p>\n                  </div>\n                }\n              </div>\n            </div>\n          </div>\n\n          <div className=\"has-text-info\">\n            Screening Slots:\n            { !film.slots ? \n              <div>Loading</div>\n              :\n              <div>        \n                { film.slots.length ?\n                  <div> \n                    {film.slots.map(slot => (\n                      <div key={slot.id} > \n                        <div className=\"has-text-white\">\n                          {slot.cinema}: {slot.startTime} - {slot.endTime}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                  :\n                  <div> The film has not been assigned any slots yet </div>\n                }\n              </div>\n            }\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default FilmShow\n","import React from 'react'\nimport Select from 'react-select'\n\nconst genreSelectOptions = [\n  { value: 1, label: 'Thriller' },\n  { value: 2, label: 'Comedy' },\n  { value: 3, label: 'Documentary' },\n  { value: 4, label: 'Drama' },\n  { value: 5, label: 'Family' },\n  { value: 6, label: 'Horror' },\n  { value: 7, label: 'Adventure' },\n  { value: 8, label: 'Action' },\n  { value: 9, label: 'Musical' },\n  { value: 10, label: 'Sci Fi' },\n  { value: 11, label: 'Animation' }\n]\n\nconst sectionSelectOptions = [\n  { value: 1, label: 'Galas' },\n  { value: 2, label: 'Up and Coming' },\n  { value: 3, label: 'Focus Country' },\n  { value: 4, label: 'Family Time' },\n  { value: 5, label: 'Late Night Thrills' },\n  { value: 6, label: 'Immersive Pop Ups' }\n]\n\n\nfunction FilmForm({ handleChange, handleSubmit, formdata, errors }) {\n\n  const handleMultiSelectionChange = (selected, name) => {\n    const selectedOption = selected ? selected.map(item => item.value) : []\n    handleChange({ target: { name, value: selectedOption } })\n  }\n\n  return (\n    <>\n      <form className=\"box column is-three-fifths is-offset-one-fifth has-background-dark\" onSubmit={handleSubmit}>\n        <div className=\"columns\">\n          <div className=\"column\">\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Title</label>\n              <div className=\"control\">\n                <input\n                  className={`input ${errors.title ? 'is-danger' : ''}`}\n                  placeholder=\"Title\"\n                  onChange={handleChange}\n                  name=\"title\"\n                  value={formdata.title}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.title}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Director</label>\n              <div className=\"control\">\n                <input\n                  className={`input ${errors.director ? 'is-danger' : ''}`}\n                  placeholder=\"Director\"\n                  onChange={handleChange}\n                  name=\"director\"\n                  value={formdata.director}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.director}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Year Released (YYYY)</label>\n              <div className=\"control\">\n                <input\n                  className={`input ${errors.yearReleased ? 'is-danger' : ''}`}\n                  placeholder=\"Year Released\"\n                  onChange={handleChange}\n                  name=\"yearReleased\"\n                  type=\"number\"\n                  value={formdata.yearReleased}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.yearReleased}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Country</label>\n              <div className=\"control\">\n                <input\n                  className={`input ${errors.country ? 'is-danger' : ''}`}\n                  placeholder=\"Country\"\n                  onChange={handleChange}\n                  name=\"country\"\n                  value={formdata.country}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.country}</p>}\n\n            <div className=\"field\">\n              <label className=\"label has-text-info\">Genres</label>\n              <div className=\"control\" >\n                <Select\n                  options={genreSelectOptions}\n                  isMulti\n                  onChange={selected => handleMultiSelectionChange(selected, 'genre')}\n                />\n              </div>\n            </div>\n            {errors && <p className=\"help is-danger\">{errors.genre}</p>}\n\n          </div>\n\n          <div className=\"column\">\n            <div className=\"field\">\n              <div className=\"field\">\n                <label className=\"label has-text-info\">Run Time (hh:mm:ss)</label>\n                <div className=\"control\">\n                  <input\n                    className={`input ${errors.runTime ? 'is-danger' : ''}`}\n                    placeholder=\"Run Time\"\n                    onChange={handleChange}\n                    name=\"runTime\"\n                    value={formdata.runTime}\n                  />\n                </div>\n              </div>\n              {errors && <p className=\"help is-danger\">{errors.runTime}</p>}\n\n              <div className=\"field\">\n                <label className=\"label has-text-info\">Poster URL</label>\n                <div className=\"control\">\n                  <input\n                    className={`input ${errors.poster ? 'is-danger' : ''}`}\n                    placeholder=\"Poster URL\"\n                    onChange={handleChange}\n                    name=\"poster\"\n                    value={formdata.poster}\n                  />\n                </div>\n              </div>\n              {errors && <p className=\"help is-danger\">{errors.poster}</p>}\n\n              <div className=\"field\">\n                <label className=\"label has-text-info\">Distributor</label>\n                <div className=\"control\">\n                  <input\n                    className={`input ${errors.distributor ? 'is-danger' : ''}`}\n                    placeholder=\"Distributor\"\n                    onChange={handleChange}\n                    name=\"distributor\"\n                    value={formdata.distributor}\n                  />\n                </div>\n              </div>\n              {errors && <p className=\"help is-danger\">{errors.distributor}</p>}\n\n              <div className=\"field\">\n                <label className=\"label has-text-info\">Film Format</label>\n                <div className=\"select\">\n                  <select name=\"filmFormat\" onChange={handleChange} value={formdata.filmFormat}>\n                    <option value=\"\" disabled></option>\n                    <option value=\"16mm\">16 mm</option>\n                    <option value=\"35mm\">35 mm</option>\n                    <option value=\"70mm\">70 mm</option>\n                    <option value=\"DCP\">DCP</option>\n                    <option value=\"nonDCPDigital\">Non DCP Digital</option>\n                  </select>\n                </div>\n              </div>\n              {errors && <p className=\"help is-danger\">{errors.filmFormat}</p>}\n\n              <div className=\"field\">\n                <label className=\"label has-text-info\">Section</label>\n                <div className=\"control\">\n                  <Select\n                    options={sectionSelectOptions}\n                    isMulti\n                    onChange={selected => handleMultiSelectionChange(selected, 'section')}\n                  />\n                </div>\n              </div>\n\n            </div> \n          </div>\n        </div>\n\n        <div className=\"field\">\n          <label className=\"label has-text-info\">Plot</label>\n          <div className=\"control\">\n            <textarea\n              className={`textarea ${errors.country ? 'is-danger' : ''}`}\n              placeholder=\"Plot\"\n              onChange={handleChange}\n              name=\"plot\"\n              value={formdata.plot}\n            />\n          </div>\n        </div>\n        {errors && <p className=\"help is-danger\">{errors.plot}</p>}\n\n        <div className=\"field\">\n          <button type=\"submit\" className=\"button is-info has-text-info-light\">Submit</button>\n        </div>\n\n      </form>\n    </>\n  )\n}\n\nexport default FilmForm","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport useForm from '../../utils/useForm'\nimport { createFilm } from '../../lib/api'\nimport FilmForm from './FilmForm'\n\nfunction FilmNew() {\n\n  const history = useHistory()\n\n  const { formdata, handleChange, errors, setErrors  } = useForm({\n    title: '',\n    director: '',\n    yearReleased: '',\n    country: '',\n    runTime: '',\n    poster: '',\n    distributor: '',\n    filmFormat: '',\n    genre: [],\n    section: [],\n    plot: ''\n  })\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const { data } = await createFilm(formdata)\n      history.push(`/films/${data.id}/`)\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n  return (\n    <section className=\"section has-background-dark\">\n      <div className=\"container \">\n        <div className=\"columns\">\n          <FilmForm\n            handleChange={handleChange}\n            handleSubmit={handleSubmit}\n            formdata={formdata}\n            errors={errors}\n          />\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default FilmNew","import React from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { getSingleFilm, editFilm } from '../../lib/api'\nimport useForm from '../../utils/useForm'\n\nimport FilmForm from './FilmForm'\n\nfunction FilmEdit() {\n  const history = useHistory()\n  const { id } = useParams()\n  const { formdata, errors, setErrors, handleChange, setFormdata } = useForm({\n    title: '',\n    director: '',\n    yearReleased: '',\n    country: '',\n    runTime: '',\n    poster: '',\n    distributor: '',\n    filmFormat: '',\n    genre: [],\n    section: [],\n    plot: ''\n  })\n\n  React.useEffect(() => {\n    const getData = async () => {\n      const { data } = await getSingleFilm(id)\n      setFormdata(data)\n    }\n    getData()\n  }, [id, setFormdata])\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    const filmToEdit = {\n      ...formdata,\n      creator: formdata.creator.id,\n      genre: formdata.genre.map(genre => {\n        if (typeof genre === 'object') { // * we can see if the genre was an object\n          return genre.id // * in which case return its id\n        }\n        return genre // * or it was already a number, so just return it back as is\n      }),\n      section: formdata.section.map(section => {\n        if (typeof section === 'object') { // * we can see if the genre was an object\n          return section.id // * in which case return its id\n        }\n        return section // * or it was already a number, so just return it back as is\n      })\n    }\n\n    console.log('updated film to send', filmToEdit) // * <-- make sure this is right, test all the outcomes\n\n    try {\n      const response = await editFilm(id, filmToEdit)\n      console.log(response) // * Important to notice, we're not going to do anything untill we see what happens here, no history redirects etc\n      history.push(`/films/${id}/`)\n\n    } catch (err) {\n      console.log(err)\n      setErrors(err.response.data)\n    }\n  }\n\n  return (\n    <section className=\"section has-background-dark\">\n      <div className=\"container\">\n        <FilmForm\n          formdata={formdata}\n          errors={errors}\n          handleChange={handleChange}\n          handleSubmit={handleSubmit}\n        />\n      </div>\n    </section>\n  )\n}\n\nexport default FilmEdit","import React from 'react'\nimport { getAllSlots } from '../../lib/api'\n\nfunction SlotIndex(){\n  const [slots, setSlots] = React.useState(null)\n  const [hasErr, setHasErr] = React.useState(false)\n\n  // * Gets the array of scheduling slots objects \n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllSlots()\n        setSlots(data)\n\n      } catch (err) {\n        setHasErr(err)\n      }\n    }\n    getData()\n  }, [])\n\n  // const cinemaShowingSlots = !slots.cinema ? null : console.log('not')\n\n  // console.log('Filmhouse: ', cinemaShowingSlots)\n\n\n  return (\n    <div className=\"section\">\n      <div className=\"title has-text-centered\">Scheduling Slots</div>\n      <div className=\"container\">\n        {!slots ?\n          <div className=\"hero is-fullheight title\">\n            { hasErr ?\n              <div className=\"hero-body\">\n                <div className=\"container has-text-centered\">Something went wrong</div>\n              </div> \n              : \n              <div className=\"hero-body\">\n                <div className=\"container has-text-centered\">Loading</div>\n              </div>\n            }\n          </div>\n          :\n          <div className=\"container\">\n            {slots.map(slot => (\n              <div key={slot.id} className=\"column\">{slot.startTime} - {slot.endTime}\n                <div>\n                  {slot.cinema.name}\n                </div> \n              </div>\n            ))}\n          </div>\n        }\n      \n      </div>\n    </div>\n  )\n}\n\nexport default SlotIndex","import React from 'react'\n// import DateTime from 'react-datetime'\nimport Select from 'react-select'\n// import Moment from 'moment'\n\nimport { getAllFilms } from '../../lib/api'\n\nfunction SlotForm({ handleChange, handleSubmit, formdata, errors }) {\n\n  const [films, setFilms] = React.useState(null)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllFilms()\n        setFilms(data)\n\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getData()\n  }, [])\n\n  // List all films user can select from for drop box\n  const filmSelectOptions = films && films.map(film => {\n    return {\n      label: film.title,\n      value: film.id\n    }\n  })\n\n  const handleSelectChange = (selected, name) => {\n    const selectedItem = selected ? selected.value : null\n    console.log('selected item is ', selectedItem)\n    handleChange({ target: { name, value: selectedItem } })\n  }\n\n  return (\n    <>\n      <form className=\"box column is-three-fifths is-offset-one-fifth\" onSubmit={handleSubmit}>\n        <div className=\"columns\">\n          <div className=\"column\">\n\n            <div className=\"field\">\n              <label className=\"label\">Cinema Dropdown</label>\n              <div className=\"select\">\n                <select name=\"cinema\" onChange={handleChange} value={formdata.cinema}>\n                  <option value=\"\" disabled></option>\n                  <option value=\"1\">Filmhouse</option>\n                  <option value=\"2\">Odeon Lothian Road</option>\n                  <option value=\"3\">Cineworld Fountain Park</option>\n                  <option value=\"4\">VUE Omni</option>\n                  <option value=\"5\">Cameo</option>\n                  <option value=\"6\">Dominion</option>\n                </select>\n              </div>\n            </div>\n            {errors.cinema && <p className=\"help is-danger\">{errors.cinema}</p>}\n\n            <div className=\"field\">\n              <label className=\"label\">Start Time (YYYY-MM-DD hh:mm)   </label>\n              <div className=\"control\">\n                <input\n                  className={`input ${errors.startTime ? 'is-danger' : ''}`}\n                  placeholder=\"Start Date and Time\"\n                  onChange={handleChange}\n                  name=\"startTime\"\n                  value={formdata.startTime}\n                />\n              </div>\n            </div>\n            {errors.startTime && <p className=\"help is-danger\">Start Time may not be null or in the past</p>}\n\n            <div className=\"field\">\n              <label className=\"label\">End Time (YYYY-MM-DD hh:mm)</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  placeholder=\"End Date and Time\"\n                  onChange={handleChange}\n                  name=\"endTime\"\n                  value={formdata.endTime}\n                />\n              </div>\n            </div>\n            {errors.endTime && <p className=\"help is-danger\">{errors.endTime}</p>}\n\n            <div className=\"field\">\n              <label className=\"label\">Title dropdown options</label>\n              <div className=\"control\">\n                <Select\n                  options={filmSelectOptions}\n                  onChange={selected => handleSelectChange(selected, 'film')}\n                  placeholder=\"Select a new title or leave as is\"\n                  value={formdata.selected}\n                />\n              </div>\n            </div>\n            {errors.film && <p className=\"help is-danger\">{errors.film}</p>}\n\n          </div>\n        </div>\n        <div className=\"field\">\n          <button type=\"submit\" className=\"button\">Submit</button>\n        </div>\n\n      </form>\n    </>\n  )\n}\n\nexport default SlotForm","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport useForm from '../../utils/useForm'\nimport { createSlot } from '../../lib/api'\nimport SlotForm from './SlotForm'\n\nfunction SlotNew() {\n  const history = useHistory()\n  const { formdata, handleChange, errors, setErrors } = useForm({\n    cinema: '',\n    startTime: '',\n    endTime: '',\n    film: ''\n  })\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const { data } = await createSlot(formdata)\n      console.log('slot created', data)\n\n      history.push('/schedule/')\n\n    } catch (err) {\n      // console.log(err.response.data)\n      setErrors(err.response.data)\n\n    }\n  }\n  console.log('errors are', errors)\n\n\n  return (\n    <section className=\"section\">\n      <div className=\"container\">\n        <div className=\"columns\">\n          <SlotForm\n            handleChange={handleChange}\n            handleSubmit={handleSubmit}\n            formdata={formdata}\n            errors={errors}\n          />\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default SlotNew","import React from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport useForm from '../../utils/useForm'\nimport SlotForm from './SlotForm'\nimport { editSlot, getSingleSlot, deleteSlot } from '../../lib/api'\n\nfunction SlotEdit() {\n  const { id } = useParams()\n  const history = useHistory()\n  const { formdata, setFormdata, errors, setErrors, handleChange } = useForm({\n    cinema: '',\n    startTime: '',\n    endTime: '',\n    film: ''\n  })\n  \n  React.useEffect(() => {\n    const getData = async () => {\n      const { data } = await getSingleSlot(id)\n      setFormdata(data)\n    }\n    getData()\n  }, [])\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    console.log('Form data going in handlesubmit is: ', formdata)\n\n    const slotToEdit = {\n      ...formdata,\n      cinema: formdata.cinema.id,\n      film: (formdata.film === null) ? \n        null \n        : \n        (typeof formdata.film !== 'object') ? \n          formdata.film \n          : \n          formdata.film.id,\n      scheduledBy: !formdata.scheduledBy ? null : formdata.scheduledBy.id\n    }\n\n    console.log('formdata coming out as slot to edit is: ', slotToEdit)\n\n\n    try {\n      await editSlot(id, slotToEdit)\n      history.push('/schedule/')\n\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n  // * Handle slot delete\n  const handleDelete = async () => {\n    try {\n      await deleteSlot(id)\n      history.push('/schedule/')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  return (\n    <div>\n      <SlotForm \n        formdata={formdata}\n        errors={errors}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n      />\n      <div className=\"form\">\n        <div className=\"columns\">\n          <div className=\"column is-three-fifths is-offset-half\">\n            <p className=\"control\">\n              <button className=\"button is-danger\" onClick={handleDelete}> Delete Scheduling Slot </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default SlotEdit","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport ReactMapGL, { Marker } from 'react-map-gl'\n\nfunction CinemaCard({ id, name, image, address, phoneNumber, contactName, slots, latitude, longitude }) {\n\n  console.log('lat ', latitude)\n  console.log('long ', longitude)\n\n  return (\n    <div className=\"card has-background-grey-dark\">\n      { !id ? \n        <div>no id</div>\n        :\n        <Link to={`/cinemas/${id}/`}>\n          <div className=\"container\">\n\n            <div className=\"card-header\">\n              <div className=\"card-header-title is-centered has-text-info\">{name}</div>\n            </div>\n            <br />\n\n            <div className=\"columns\">\n              <div className=\"column is-half\">\n                <figure className=\"card-image\">\n                  <img src={image} alt={name} className=\"is-square\" />\n                </figure>\n\n                <div className=\"card-content has-text-info-light\">\n                  <div>{address}</div>\n                  <div><strong>{phoneNumber}</strong></div>\n                  <br />\n                  <p>Staff Contact: <strong>{contactName}</strong></p>\n                </div>\n              </div>\n\n              <div className=\"column is-half map-container\">\n                <ReactMapGL\n                  mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n                  height=\"100%\"\n                  width=\"100%\"\n                  mapStyle=\"mapbox://styles/mapbox/dark-v10\"\n                  latitude= {parseFloat(latitude)}\n                  longitude= {parseFloat(longitude)}\n                  zoom= {14}\n                >\n                  <Marker \n                    latitude= {parseFloat(latitude)}\n                    longitude= {parseFloat(longitude)}\n                  >📍</Marker>\n\n                </ReactMapGL>\n\n              </div>\n            </div>\n\n            <div className=\"card-content has-text-info\">\n              <h2>Scheduling Slots</h2>\n              { !slots ?\n                <div className=\"has-text-info-light\">There are no slots available for this cinema</div>\n                :\n                <div className=\"has-text-info-light\">\n                  {slots.map(slot => (\n                    <div key={slot.id}>\n                      {slot.startTime} to {slot.endTime}: &nbsp;&nbsp; { slot.film ? \n                        <span>\n                          <strong>{slot.film}</strong></span>\n                        :\n                        <span><strong>No film assigned yet</strong></span>}\n                    </div>\n                  ))} \n                </div>\n              }\n            </div>\n\n          </div>     \n        </Link>\n      }\n    </div>\n  )\n}\n\nexport default CinemaCard","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getSingleCinema } from '../../lib/api'\nimport CinemaIndex from './CinemaIndex'\nimport CinemaCard from './CinemaCard'\n\nfunction CinemaShow() {\n\n  const [cinema, setCinema] = React.useState(null)\n  const [hasErr, setHasErr] = React.useState(false)\n\n  const { id } = useParams()\n\n  // * Get one Cinema\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSingleCinema(id)\n        setCinema(data)\n\n      } catch (err) {\n        setHasErr(err)\n      }\n    }\n    getData()\n  }, [id])\n\n  console.log(cinema)\n\n  return (\n    <div className=\"section has-background-dark\">\n      { !cinema ? \n        <div className=\"title has-text-info-light\">\n          { hasErr ? \n            <div>\n              <div className=\"container has-text-centered has-text-info-light\">Something went wrong</div>\n            </div> \n            : \n            <div>\n              <div className=\"container has-text-centered has-text-info-light\">Loading</div>\n            </div>\n          }\n        </div>\n        :\n        <div>\n          <h1 className=\"title has-text-centered has-text-info-light\">Cinemas</h1>\n          <div className=\"columns\">\n            <div className=\"column is-one-third\">\n              <CinemaIndex />\n            </div>\n            <div className=\"column is-two-thirds\">\n              <CinemaCard {...cinema} />\n            </div>\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default CinemaShow","import React from 'react'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\n\nimport Nav from './components/common/Nav'\nimport Home from './components/common/Home'\nimport SchedulingSlots from './components/slots/SchedulingSlots'\nimport FilmIndex from './components/films/FilmIndex'\nimport CinemaHome from './components/cinemas/CinemaHome'\nimport UserShow from './components/users/UserShow'\nimport Login from './components/auth/Login'\nimport Register from './components/auth/Register'\nimport FilmShow from './components/films/FilmShow'\nimport FilmNew from './components/films/FilmNew'\nimport FilmEdit from './components/films/FilmEdit'\nimport SlotIndex from './components/slots/SlotIndex'\nimport SlotNew from './components/slots/SlotNew'\nimport SlotEdit from './components/slots/SlotEdit'\nimport CinemaShow from './components/cinemas/CinemaShow'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div>\n        <Nav />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/schedule/\" component={SchedulingSlots} />\n          <Route path=\"/films/:id/edit\" component={FilmEdit} />\n          <Route path=\"/films/new/\" component={FilmNew} />\n          <Route path=\"/films/:id/\" component={FilmShow} />\n          <Route path=\"/films/\" component={FilmIndex} />\n          <Route path=\"/slots/:id/edit/\" component={SlotEdit} />\n          <Route path=\"/slots/new/\" component={SlotNew} />\n          <Route path=\"/slots/\" component={SlotIndex} />\n          <Route path=\"/cinemas/:id/\" component={CinemaShow} />\n          <Route path=\"/cinemas/\" component={CinemaHome} />\n          <Route path=\"/profile/\" component={UserShow} />\n          <Route path=\"/login/\" component={Login} />\n          <Route path=\"/register/\" component={Register} />\n        </Switch>\n      </div>\n    </BrowserRouter>    \n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}