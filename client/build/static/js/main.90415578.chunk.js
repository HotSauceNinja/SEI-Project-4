(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(14),r=a.n(n),i=(a(78),a(10)),l=a(16);function o(){return window.localStorage.getItem("token")}function d(){var e=o();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))}function j(){var e=d();return!!e&&Math.round(Date.now()/1e3)<e.exp}function h(e){var t=d();return!!t&&e===t.sub}var b=a(2);var m=function(){var e=Object(l.f)(),t=j();return Object(l.g)(),Object(b.jsx)("div",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"navbar-brand",children:[t?null:Object(b.jsx)(i.b,{to:"/",className:"navbar-item has-text-info",children:Object(b.jsx)("strong",{children:"FASTival"})}),Object(b.jsx)(i.b,{to:"/schedule/",className:"navbar-item",children:"Schedule"}),Object(b.jsx)(i.b,{to:"/films/",className:"navbar-item",children:"Films"}),Object(b.jsx)(i.b,{to:"/cinemas/",className:"navbar-item",children:"Cinemas"})]}),Object(b.jsx)("div",{className:"navbar-menu has-background-dark is-active",children:Object(b.jsx)("div",{className:"navbar-end",children:Object(b.jsxs)("div",{className:"navbar-item has-dropdown has-background-dark is-hoverable",children:[Object(b.jsx)("div",{className:"navbar-item has-background-dark has-text-info-light",children:"User"}),t?Object(b.jsx)("div",{className:"navbar-dropdown has-background-dark is-right",children:Object(b.jsx)("button",{className:"navbar-item button is-small is-left is-dark has-text-info",onClick:function(){window.localStorage.removeItem("token"),e.push("/")},children:"Logout"})}):Object(b.jsxs)("div",{className:"navbar-dropdown has-background-dark is-right ",children:[Object(b.jsx)(i.b,{to:"/login/",className:"navbar-item has-text-info",children:"Login"}),Object(b.jsx)(i.b,{to:"/register/",className:"navbar-item has-text-info",children:"Register"})]})]})})})]})})},u=a(13),x=a.p+"static/media/theatrebw.ba413359.jpg",O=a.p+"static/media/theatre02.0496c237.jpg";var v=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(b.jsx)("div",{children:Object(b.jsx)(i.b,{to:"/schedule/",children:Object(b.jsx)("section",{className:"hero is-dark is-fullheight",children:Object(b.jsx)("div",{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:a?Object(b.jsx)("img",{src:O}):Object(b.jsx)("img",{src:x})})})})})},f=a(52),p=a(68);var N=function(){return Object(b.jsx)("footer",{className:"navbar is-fixed-bottom is-dark",children:Object(b.jsxs)("div",{className:"container is-fluid level",children:[Object(b.jsxs)("div",{className:"level-item has-text-centered",children:["FASTival is a labour of love done as part of the GA Software Engineering Immersive Course. ",Object(b.jsx)("br",{}),"If you want to support me or find out more, follow the links"]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"is-menu level-item",children:[Object(b.jsx)("a",{href:"https://github.com/HotSauceNinja",target:"_blank",rel:"noreferrer",children:Object(b.jsx)(f.a,{className:"icon is-medium mx-2"})}),Object(b.jsx)("a",{href:"https://www.linkedin.com/in/sandraspighel/",target:"_blank",rel:"noreferrer",children:Object(b.jsx)(p.a,{className:"icon is-medium mx-2"})}),Object(b.jsx)("a",{href:"https://twitter.com/H0tSauceNinja",target:"_blank",rel:"noreferrer",children:Object(b.jsx)(f.b,{className:"icon is-medium mx-2"})})]}),Object(b.jsx)("br",{})]})})};var g=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(N,{})]})},w=a(6),k=a.n(w),y=a(11),S=a(19),C=a.n(S),T="/api/";function D(){return{headers:{Authorization:"Bearer ".concat(o())}}}function F(e){return C.a.get("".concat(T,"cinemas/").concat(e,"/"))}function E(){return C.a.get("".concat(T,"films/"))}function P(e){return C.a.get("".concat(T,"films/").concat(e,"/"))}function L(e){return C.a.post("".concat(T,"films/"),e,D())}function Y(e,t){return C.a.put("".concat(T,"films/").concat(e,"/"),t,D())}function R(e){return C.a.delete("".concat(T,"films/").concat(e,"/"),D())}function A(){return C.a.get("".concat(T,"slots/"))}function I(e){return C.a.get("".concat(T,"slots/").concat(e,"/"))}function M(e){return C.a.post("".concat(T,"slots/"),e,D())}function U(e,t){return C.a.put("".concat(T,"slots/").concat(e,"/"),t,D())}function B(e){return C.a.delete("".concat(T,"slots/").concat(e,"/"),D())}function J(e){return C.a.post("".concat(T,"auth/register/"),e)}function G(e){return C.a.post("".concat(T,"auth/login/"),e)}function q(e){return C.a.get("".concat(T,"auth/").concat(e,"/"))}var z=a(53),H=a(72),V=a.n(H);a(103);var _=function(){var e=Object(l.f)(),t=Object(z.b)(V.a),a=c.a.useState(null),s=Object(u.a)(a,2),n=s[0],r=s[1],o=c.a.useState(!1),d=Object(u.a)(o,2),j=d[0],h=d[1];c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var t,a,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:t=e.sent,a=t.data,s=a.sort((function(e,t){return Date.parse(e.startTime)-Date.parse(t.startTime)})),r(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=n&&n.map((function(e){return{id:e.id,title:e.film?e.film.title:"Free slot",allDay:!1,start:new Date(e.startTime),end:new Date(e.endTime),resource:e.cinema.name}}));return Object(b.jsx)("div",{className:"section has-background-dark has-text-light",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column title has-text-centered has-text-info-light",children:"Screening Schedule"}),Object(b.jsx)("div",{className:"column buttons is-one-fifth",children:Object(b.jsx)("button",{className:"button is-info",children:Object(b.jsx)(i.b,{to:"/slots/new/",className:"has-text-white",children:" Add Screening Slot "})})})]}),n?Object(b.jsx)(z.a,{popup:!0,localizer:t,events:m,startAccessor:"start",endAccessor:"end",defaultDate:new Date(2021,5,14),defaultView:"week",style:{height:"100vh"},onDoubleClickEvent:function(t){console.log("event is ",t),e.push("/slots/".concat(t.id,"/edit/"))}}):Object(b.jsx)("div",{className:"hero is-fullheight title",children:j?Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered",children:"Something went wrong"})}):Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered",children:"Loading"})})})]})})},W=a(21);var Z=function(e){var t=e.id,a=e.title,s=e.yearReleased,c=e.director,n=e.poster,r=e.country,l=e.genre,o=e.section;return Object(b.jsx)("div",{className:"card has-background-grey-dark",children:Object(b.jsx)(i.b,{to:"/films/".concat(t),children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("div",{className:"card-header-title is-centered has-text-info",children:[a," (",s,") "]})}),Object(b.jsxs)("div",{className:"columns is-mobile",children:[Object(b.jsx)("figure",{className:"card-image column",children:Object(b.jsx)("img",{src:n,alt:a,className:"image"})}),Object(b.jsx)("div",{className:"card-content column",children:Object(b.jsxs)("div",{className:"container mr-3 has-text-info-light",children:[Object(b.jsxs)("div",{children:["Dir: ",c]}),Object(b.jsx)("p",{children:r}),Object(b.jsx)("br",{}),l?Object(b.jsx)("div",{children:l.map((function(e){return Object(b.jsxs)("span",{children:[" ",e.name," "]},e.id)}))}):Object(b.jsx)("div",{children:"Loading"}),Object(b.jsx)("br",{}),o?Object(b.jsx)("div",{children:o.length?o.map((function(e){return Object(b.jsxs)("span",{children:[" ",e.name," "]},e.id)})):Object(b.jsx)("div",{children:"Not assigned yet"})}):Object(b.jsx)("div",{children:"Loading"}),Object(b.jsx)("br",{})]})})]})]})})})};var K=function(){var e=j(),t=c.a.useState(null),a=Object(u.a)(t,2),s=a[0],n=a[1],r=c.a.useState(!1),l=Object(u.a)(r,2),o=l[0],d=l[1];return c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:t=e.sent,a=t.data,n(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsxs)("div",{className:"section has-background-dark",children:[Object(b.jsx)("h1",{className:"title has-text-centered has-text-info-light",children:"Films"}),Object(b.jsx)("br",{}),e?Object(b.jsxs)("div",{className:"columns title has-text-centered",children:[Object(b.jsx)("span",{className:"column is-one-third",children:Object(b.jsx)(i.b,{to:"/films/new/",className:"button is-link has-text-white",children:"Add new film"})}),Object(b.jsx)("span",{className:"column",children:"Filter films goes here"})]}):null,Object(b.jsx)("div",{className:"container",children:s?Object(b.jsx)("div",{className:"columns is-multiline is-mobile",children:s.map((function(e){return Object(b.jsx)("div",{className:"column is-half-mobile is-half-tablet is-one-third-desktop",children:Object(b.jsx)(Z,Object(W.a)({},e))},e.id)}))}):Object(b.jsx)("div",{className:"hero is-fullheight title",children:o?Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered",children:"Something went wrong"})}):Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered",children:"Loading"})})})})]})};var X=function(){var e=c.a.useState(null),t=Object(u.a)(e,2),a=t[0],s=t[1],n=c.a.useState(!1),r=Object(u.a)(n,2),l=r[0],o=r[1];return c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(T,"cinemas/"));case 3:t=e.sent,a=t.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("cinemas",a),Object(b.jsx)("section",{className:"has-background-dark",children:Object(b.jsx)("div",{className:"container has-background-dark",children:Object(b.jsx)("div",{className:"container",children:a?Object(b.jsx)("div",{className:"columns is-multiline",children:a.map((function(e){return Object(b.jsx)("div",{className:"column is-full",children:Object(b.jsx)("div",{className:"card has-background-grey-dark",children:Object(b.jsx)(i.b,{to:"/cinemas/".concat(e.id,"/"),children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("div",{className:"card-header-title is-centered has-text-info",children:e.name})}),Object(b.jsxs)("div",{className:"card-content has-text-info-light",children:[Object(b.jsx)("div",{children:e.address}),Object(b.jsx)("div",{children:Object(b.jsx)("strong",{children:e.phoneNumber})})]})]})})})},e.id)}))}):Object(b.jsx)("div",{className:"hero is-fullheight title has-text-info-light",children:l?Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered has-text-info-light",children:"Something went wrong"})}):Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered has-text-info-light",children:"Loading"})})})})})})},Q=a.p+"static/media/cinemasBlue.63ba93c9.png";var $=function(){return Object(b.jsx)("div",{className:"section has-background-dark",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"title has-text-centered has-text-info-light",children:"Cinemas"}),Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column is-one-third",children:Object(b.jsx)(X,{})}),Object(b.jsx)("div",{className:"column is-two-thirds",children:Object(b.jsx)("img",{src:Q})})]})]})})};var ee=function(){var e=Object(l.h)().id;return c.a.useEffect((function(){(function(){var t=Object(y.a)(k.a.mark((function t(){var a,s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q(e);case 3:a=t.sent,s=a.data,console.log("user data:",s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(b.jsx)("div",{children:"User page goes here"})},te=a(37);var ae=function(e){var t=c.a.useState(e),a=Object(u.a)(t,2),s=a[0],n=a[1],r=c.a.useState(e),i=Object(u.a)(r,2),l=i[0],o=i[1];return{formdata:s,errors:l,handleChange:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value,a=Object(W.a)(Object(W.a)({},s),{},Object(te.a)({},e.target.name,t)),c=Object(W.a)(Object(W.a)({},l),{},Object(te.a)({},e.target.name,""));n(a),o(c)},setErrors:o,setFormdata:n}};var se=function(){var e=Object(l.f)(),t=c.a.useState(!1),a=Object(u.a)(t,2),s=a[0],n=a[1],r=ae({email:"",password:""}),i=r.formdata,o=r.handleChange,d=function(){var t=Object(y.a)(k.a.mark((function t(a){var s,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,G(i);case 4:s=t.sent,c=s.data,r=c.token,window.localStorage.setItem("token",r),e.push("/schedule/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(!0);case 13:case"end":return t.stop()}var r}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("section",{className:"section has-background-dark",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"columns",children:Object(b.jsxs)("form",{className:"box column is-half is-offset-one-quarter has-background-dark",onSubmit:d,children:[Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Email"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(s?"is-danger":""),placeholder:"Email",onChange:o,name:"email",value:i.email,onFocus:function(){n(!1)}})})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Password"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{type:"password",className:"input ".concat(s?"is-danger":""),placeholder:"Password",onChange:o,name:"password",value:i.password})})]}),s&&Object(b.jsx)("p",{className:"help is-danger",children:"Your username or password are incorrect"}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("button",{type:"submit",className:"button is-info has-text-info-light",children:"Login"})})]})})})})};var ce=function(){var e=Object(l.f)(),t=ae({firstName:"",lastName:"",email:"",password:"",passwordConfirmation:"",username:"",profilePhoto:""}),a=t.formdata,s=t.handleChange,c=t.errors,n=t.setErrors,r=function(){var t=Object(y.a)(k.a.mark((function t(s){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,t.next=4,J(a);case 4:e.push("/login/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("section",{className:"section has-background-dark",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"columns",children:Object(b.jsxs)("form",{className:"column is-half is-offset-one-quarter ",onSubmit:r,children:[Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"First Name"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input",placeholder:"First Name",onChange:s,name:"firstName",value:a.firstName})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.firstName}),Object(b.jsxs)("div",{className:"field has-text-info",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Last Name"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input",placeholder:"Last Name",onChange:s,name:"lastName",value:a.lastName})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.lastName}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Email"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input",placeholder:"Email",onChange:s,name:"email",value:a.email})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.email}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Password"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{type:"password",className:"input",placeholder:"Password",onChange:s,name:"password",value:a.password})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.password}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Password Confirmation"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{type:"password",className:"input",placeholder:"Password Confirmation",onChange:s,name:"passwordConfirmation",value:a.passwordConfirmation})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.passwordConfirmation}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Username"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input",placeholder:"Username",onChange:s,name:"username",value:a.username})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.username}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Profile Photo"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input",placeholder:"Photo URL",onChange:s,name:"profilePhoto",value:a.profilePhoto})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.profilePhoto}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("button",{type:"submit",className:"button is-info has-text-info-light",children:"Register"})})]})})})})};var ne=function(){var e=Object(l.f)(),t=c.a.useState(null),a=Object(u.a)(t,2),s=a[0],n=a[1],r=c.a.useState(!1),o=Object(u.a)(r,2),d=o[0],j=o[1],m=Object(l.h)().id;c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(m);case 3:t=e.sent,a=t.data,n(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[m]);var x=function(){var t=Object(y.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(m);case 3:e.push("/films/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return console.log("film data ",s),Object(b.jsx)("div",{className:"section has-background-dark",children:s?Object(b.jsxs)("div",{children:[Object(b.jsxs)("h1",{className:"title has-text-centered has-text-info",children:[s.title," (",s.yearReleased,")"]}),Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column is-one-third",children:Object(b.jsx)("img",{src:s.poster,alt:s.title,className:"image"})}),Object(b.jsx)("div",{className:"card-content has-text-info-light",children:Object(b.jsxs)("div",{className:"container mr-3",children:[Object(b.jsxs)("div",{children:["Dir: ",s.director]}),s.genre?Object(b.jsxs)("div",{children:["Genre:",s.genre.map((function(e){return Object(b.jsxs)("span",{children:[" ",e.name," "]},e.id)}))]}):Object(b.jsx)("div",{children:"Loading"}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:s.plot}),Object(b.jsx)("br",{}),Object(b.jsxs)("p",{children:["Run Time: ",s.runTime]}),Object(b.jsxs)("p",{children:["Film Format: ",s.filmFormat]}),Object(b.jsxs)("p",{children:["Countries: ",s.country]}),Object(b.jsxs)("p",{children:["Distributor: ",s.distributor]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{children:["Section:",s.section?Object(b.jsx)("span",{children:s.section.length?s.section.map((function(e){return Object(b.jsxs)("span",{children:[" ",e.name," "]},e.id)})):Object(b.jsx)("div",{children:"Not assigned yet"})}):Object(b.jsx)("div",{children:"Loading"})]}),Object(b.jsx)("br",{}),h(s.creator.id)&&Object(b.jsxs)("div",{className:"field is-grouped is-right",children:[Object(b.jsx)("p",{className:"control",children:Object(b.jsx)("button",{className:"button is-info is-outlined",children:Object(b.jsx)(i.b,{to:"/films/".concat(m,"/edit/"),children:" Edit Film "})})}),Object(b.jsx)("p",{className:"control",children:Object(b.jsx)("button",{className:"button is-danger is-outlined",onClick:x,children:" Delete Film "})})]})]})})]}),Object(b.jsxs)("div",{className:"has-text-info",children:["Screening Slots:",s.slots?Object(b.jsx)("div",{children:s.slots.length?Object(b.jsx)("div",{children:s.slots.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"has-text-white",children:[e.cinema,": ",e.startTime," - ",e.endTime]})},e.id)}))}):Object(b.jsx)("div",{children:" The film has not been assigned any slots yet "})}):Object(b.jsx)("div",{children:"Loading"})]})]}):Object(b.jsx)("div",{className:"title has-text-info-light",children:d?Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container has-text-centered has-text-info-light",children:"Something went wrong"})}):Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container has-text-centered has-text-info-light",children:"Loading"})})})})},re=a(39),ie=[{value:1,label:"Thriller"},{value:2,label:"Comedy"},{value:3,label:"Documentary"},{value:4,label:"Drama"},{value:5,label:"Family"},{value:6,label:"Horror"},{value:7,label:"Adventure"},{value:8,label:"Action"},{value:9,label:"Musical"},{value:10,label:"Sci Fi"},{value:11,label:"Animation"}],le=[{value:1,label:"Galas"},{value:2,label:"Up and Coming"},{value:3,label:"Focus Country"},{value:4,label:"Family Time"},{value:5,label:"Late Night Thrills"},{value:6,label:"Immersive Pop Ups"}];var oe=function(e){var t=e.handleChange,a=e.handleSubmit,s=e.formdata,c=e.errors,n=function(e,a){var s=e?e.map((function(e){return e.value})):[];t({target:{name:a,value:s}})};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{className:"box column is-three-fifths is-offset-one-fifth has-background-dark",onSubmit:a,children:[Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsxs)("div",{className:"column",children:[Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Title"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(c.title?"is-danger":""),placeholder:"Title",onChange:t,name:"title",value:s.title})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.title}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Director"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(c.director?"is-danger":""),placeholder:"Director",onChange:t,name:"director",value:s.director})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.director}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Year Released (YYYY)"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(c.yearReleased?"is-danger":""),placeholder:"Year Released",onChange:t,name:"yearReleased",type:"number",value:s.yearReleased})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.yearReleased}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Country"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(c.country?"is-danger":""),placeholder:"Country",onChange:t,name:"country",value:s.country})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.country}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Genres"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(re.a,{options:ie,isMulti:!0,onChange:function(e){return n(e,"genre")}})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.genre})]}),Object(b.jsx)("div",{className:"column",children:Object(b.jsxs)("div",{className:"field",children:[Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Run Time (hh:mm:ss)"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(c.runTime?"is-danger":""),placeholder:"Run Time",onChange:t,name:"runTime",value:s.runTime})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.runTime}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Poster URL"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(c.poster?"is-danger":""),placeholder:"Poster URL",onChange:t,name:"poster",value:s.poster})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.poster}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Distributor"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(c.distributor?"is-danger":""),placeholder:"Distributor",onChange:t,name:"distributor",value:s.distributor})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.distributor}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Film Format"}),Object(b.jsx)("div",{className:"select",children:Object(b.jsxs)("select",{name:"filmFormat",onChange:t,value:s.filmFormat,children:[Object(b.jsx)("option",{value:"",disabled:!0}),Object(b.jsx)("option",{value:"16mm",children:"16 mm"}),Object(b.jsx)("option",{value:"35mm",children:"35 mm"}),Object(b.jsx)("option",{value:"70mm",children:"70 mm"}),Object(b.jsx)("option",{value:"DCP",children:"DCP"}),Object(b.jsx)("option",{value:"nonDCPDigital",children:"Non DCP Digital"})]})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.filmFormat}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Section"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(re.a,{options:le,isMulti:!0,onChange:function(e){return n(e,"section")}})})]})]})})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label has-text-info",children:"Plot"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("textarea",{className:"textarea ".concat(c.country?"is-danger":""),placeholder:"Plot",onChange:t,name:"plot",value:s.plot})})]}),c&&Object(b.jsx)("p",{className:"help is-danger",children:c.plot}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("button",{type:"submit",className:"button is-info has-text-info-light",children:"Submit"})})]})})};var de=function(){var e=Object(l.f)(),t=ae({title:"",director:"",yearReleased:"",country:"",runTime:"",poster:"",distributor:"",filmFormat:"",genre:[],section:[],plot:""}),a=t.formdata,s=t.handleChange,c=t.errors,n=t.setErrors,r=function(){var t=Object(y.a)(k.a.mark((function t(s){var c,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,t.next=4,L(a);case 4:c=t.sent,r=c.data,e.push("/films/".concat(r.id,"/")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("section",{className:"section has-background-dark",children:Object(b.jsx)("div",{className:"container ",children:Object(b.jsx)("div",{className:"columns",children:Object(b.jsx)(oe,{handleChange:s,handleSubmit:r,formdata:a,errors:c})})})})};var je=function(){var e=Object(l.f)(),t=Object(l.h)().id,a=ae({title:"",director:"",yearReleased:"",country:"",runTime:"",poster:"",distributor:"",filmFormat:"",genre:[],section:[],plot:""}),s=a.formdata,n=a.errors,r=a.setErrors,i=a.handleChange,o=a.setFormdata;c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var a,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:a=e.sent,s=a.data,o(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,o]);var d=function(){var a=Object(y.a)(k.a.mark((function a(c){var n,i;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),n=Object(W.a)(Object(W.a)({},s),{},{creator:s.creator.id,genre:s.genre.map((function(e){return"object"===typeof e?e.id:e})),section:s.section.map((function(e){return"object"===typeof e?e.id:e}))}),console.log("updated film to send",n),a.prev=3,a.next=6,Y(t,n);case 6:i=a.sent,console.log(i),e.push("/films/".concat(t,"/")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),console.log(a.t0),r(a.t0.response.data);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}();return Object(b.jsx)("section",{className:"section has-background-dark",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(oe,{formdata:s,errors:n,handleChange:i,handleSubmit:d})})})};var he=function(){var e=c.a.useState(null),t=Object(u.a)(e,2),a=t[0],s=t[1],n=c.a.useState(!1),r=Object(u.a)(n,2),i=r[0],l=r[1];return c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:t=e.sent,a=t.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsxs)("div",{className:"section",children:[Object(b.jsx)("div",{className:"title has-text-centered",children:"Scheduling Slots"}),Object(b.jsx)("div",{className:"container",children:a?Object(b.jsx)("div",{className:"container",children:a.map((function(e){return Object(b.jsxs)("div",{className:"column",children:[e.startTime," - ",e.endTime,Object(b.jsx)("div",{children:e.cinema.name})]},e.id)}))}):Object(b.jsx)("div",{className:"hero is-fullheight title",children:i?Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered",children:"Something went wrong"})}):Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsx)("div",{className:"container has-text-centered",children:"Loading"})})})})]})};var be=function(e){var t=e.handleChange,a=e.handleSubmit,s=e.formdata,n=e.errors,r=c.a.useState(null),i=Object(u.a)(r,2),l=i[0],o=i[1];c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:t=e.sent,a=t.data,o(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=l&&l.map((function(e){return{label:e.title,value:e.id}}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{className:"box column is-three-fifths is-offset-one-fifth",onSubmit:a,children:[Object(b.jsx)("div",{className:"columns",children:Object(b.jsxs)("div",{className:"column",children:[Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",children:"Cinema Dropdown"}),Object(b.jsx)("div",{className:"select",children:Object(b.jsxs)("select",{name:"cinema",onChange:t,value:s.cinema,children:[Object(b.jsx)("option",{value:"",disabled:!0}),Object(b.jsx)("option",{value:"1",children:"Filmhouse"}),Object(b.jsx)("option",{value:"2",children:"Odeon Lothian Road"}),Object(b.jsx)("option",{value:"3",children:"Cineworld Fountain Park"}),Object(b.jsx)("option",{value:"4",children:"VUE Omni"}),Object(b.jsx)("option",{value:"5",children:"Cameo"}),Object(b.jsx)("option",{value:"6",children:"Dominion"})]})})]}),n.cinema&&Object(b.jsx)("p",{className:"help is-danger",children:n.cinema}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",children:"Start Time (YYYY-MM-DD hh:mm)   "}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input ".concat(n.startTime?"is-danger":""),placeholder:"Start Date and Time",onChange:t,name:"startTime",value:s.startTime})})]}),n.startTime&&Object(b.jsx)("p",{className:"help is-danger",children:"Start Time may not be null or in the past"}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",children:"End Time (YYYY-MM-DD hh:mm)"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("input",{className:"input",placeholder:"End Date and Time",onChange:t,name:"endTime",value:s.endTime})})]}),n.endTime&&Object(b.jsx)("p",{className:"help is-danger",children:n.endTime}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",children:"Title dropdown options"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(re.a,{options:d,onChange:function(e){return function(e,a){var s=e?e.value:null;console.log("selected item is ",s),t({target:{name:a,value:s}})}(e,"film")},placeholder:"Select a new title or leave as is",value:s.selected})})]}),n.film&&Object(b.jsx)("p",{className:"help is-danger",children:n.film})]})}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("button",{type:"submit",className:"button",children:"Submit"})})]})})};var me=function(){var e=Object(l.f)(),t=ae({cinema:"",startTime:"",endTime:"",film:""}),a=t.formdata,s=t.handleChange,c=t.errors,n=t.setErrors,r=function(){var t=Object(y.a)(k.a.mark((function t(s){var c,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,t.next=4,M(a);case 4:c=t.sent,r=c.data,console.log("slot created",r),e.push("/schedule/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(t.t0.response.data);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return console.log("errors are",c),Object(b.jsx)("section",{className:"section",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"columns",children:Object(b.jsx)(be,{handleChange:s,handleSubmit:r,formdata:a,errors:c})})})})};var ue=function(){var e=Object(l.h)().id,t=Object(l.f)(),a=ae({cinema:"",startTime:"",endTime:"",film:""}),s=a.formdata,n=a.setFormdata,r=a.errors,i=a.setErrors,o=a.handleChange;c.a.useEffect((function(){(function(){var t=Object(y.a)(k.a.mark((function t(){var a,s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:a=t.sent,s=a.data,n(s);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var d=function(){var a=Object(y.a)(k.a.mark((function a(c){var n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),console.log("Form data going in handlesubmit is: ",s),n=Object(W.a)(Object(W.a)({},s),{},{cinema:s.cinema.id,film:null===s.film?null:"object"!==typeof s.film?s.film:s.film.id,scheduledBy:s.scheduledBy?s.scheduledBy.id:null}),console.log("formdata coming out as slot to edit is: ",n),a.prev=4,a.next=7,U(e,n);case 7:t.push("/schedule/"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),i(a.t0.response.data);case 13:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e){return a.apply(this,arguments)}}(),j=function(){var a=Object(y.a)(k.a.mark((function a(){return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B(e);case 3:t.push("/schedule/"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(be,{formdata:s,errors:r,handleChange:o,handleSubmit:d}),Object(b.jsx)("div",{className:"form",children:Object(b.jsx)("div",{className:"columns",children:Object(b.jsx)("div",{className:"column is-three-fifths is-offset-half",children:Object(b.jsx)("p",{className:"control",children:Object(b.jsx)("button",{className:"button is-danger",onClick:j,children:" Delete Scheduling Slot "})})})})})]})},xe=a(54);var Oe=function(e){var t=e.id,a=e.name,s=e.image,c=e.address,n=e.phoneNumber,r=e.contactName,l=e.slots,o=e.latitude,d=e.longitude;return console.log("lat ",o),console.log("long ",d),Object(b.jsx)("div",{className:"card has-background-grey-dark",children:t?Object(b.jsx)(i.b,{to:"/cinemas/".concat(t,"/"),children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("div",{className:"card-header-title is-centered has-text-info",children:a})}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsxs)("div",{className:"column is-half",children:[Object(b.jsx)("figure",{className:"card-image",children:Object(b.jsx)("img",{src:s,alt:a,className:"is-square"})}),Object(b.jsxs)("div",{className:"card-content has-text-info-light",children:[Object(b.jsx)("div",{children:c}),Object(b.jsx)("div",{children:Object(b.jsx)("strong",{children:n})}),Object(b.jsx)("br",{}),Object(b.jsxs)("p",{children:["Staff Contact: ",Object(b.jsx)("strong",{children:r})]})]})]}),Object(b.jsx)("div",{className:"column is-half map-container",children:Object(b.jsx)(xe.b,{mapboxApiAccessToken:"pk.eyJ1IjoiaG90c2F1Y2VuaW5qYSIsImEiOiJja2twZ2tpeDcwOW8yMm5xbnd1aHp3YXlpIn0.cJCYZfY3Kyzh24P1arfSCg",height:"100%",width:"100%",mapStyle:"mapbox://styles/mapbox/dark-v10",latitude:parseFloat(o),longitude:parseFloat(d),zoom:14,children:Object(b.jsx)(xe.a,{latitude:parseFloat(o),longitude:parseFloat(d),children:"\ud83d\udccd"})})})]}),Object(b.jsxs)("div",{className:"card-content has-text-info",children:[Object(b.jsx)("h2",{children:"Scheduling Slots"}),l?Object(b.jsx)("div",{className:"has-text-info-light",children:l.map((function(e){return Object(b.jsxs)("div",{children:[e.startTime," to ",e.endTime,": \xa0\xa0 ",e.film?Object(b.jsx)("span",{children:Object(b.jsx)("strong",{children:e.film})}):Object(b.jsx)("span",{children:Object(b.jsx)("strong",{children:"No film assigned yet"})})]},e.id)}))}):Object(b.jsx)("div",{className:"has-text-info-light",children:"There are no slots available for this cinema"})]})]})}):Object(b.jsx)("div",{children:"no id"})})};var ve=function(){var e=c.a.useState(null),t=Object(u.a)(e,2),a=t[0],s=t[1],n=c.a.useState(!1),r=Object(u.a)(n,2),i=r[0],o=r[1],d=Object(l.h)().id;return c.a.useEffect((function(){(function(){var e=Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(d);case 3:t=e.sent,a=t.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]),console.log(a),Object(b.jsx)("div",{className:"section has-background-dark",children:a?Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"title has-text-centered has-text-info-light",children:"Cinemas"}),Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column is-one-third",children:Object(b.jsx)(X,{})}),Object(b.jsx)("div",{className:"column is-two-thirds",children:Object(b.jsx)(Oe,Object(W.a)({},a))})]})]}):Object(b.jsx)("div",{className:"title has-text-info-light",children:i?Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container has-text-centered has-text-info-light",children:"Something went wrong"})}):Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container has-text-centered has-text-info-light",children:"Loading"})})})})};var fe=function(){return Object(b.jsx)(i.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",component:g}),Object(b.jsx)(l.a,{path:"/schedule/",component:_}),Object(b.jsx)(l.a,{path:"/films/:id/edit",component:je}),Object(b.jsx)(l.a,{path:"/films/new/",component:de}),Object(b.jsx)(l.a,{path:"/films/:id/",component:ne}),Object(b.jsx)(l.a,{path:"/films/",component:K}),Object(b.jsx)(l.a,{path:"/slots/:id/edit/",component:ue}),Object(b.jsx)(l.a,{path:"/slots/new/",component:me}),Object(b.jsx)(l.a,{path:"/slots/",component:he}),Object(b.jsx)(l.a,{path:"/cinemas/:id/",component:ve}),Object(b.jsx)(l.a,{path:"/cinemas/",component:$}),Object(b.jsx)(l.a,{path:"/profile/",component:ee}),Object(b.jsx)(l.a,{path:"/login/",component:se}),Object(b.jsx)(l.a,{path:"/register/",component:ce})]})]})})};r.a.render(Object(b.jsx)(fe,{}),document.getElementById("root"))},78:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.90415578.chunk.js.map